{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport Swal from 'sweetalert2';\nimport { FormControl, FormGroup, Validators, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgxSpinnerModule } from 'ngx-spinner';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./service/usuario.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"src/app/utils/message-utils\";\nimport * as i4 from \"ngx-spinner\";\nimport * as i5 from \"@angular/common\";\nfunction UsuarioComponent_tbody_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"tr\")(2, \"td\", 33);\n    i0.ɵɵtext(3, \"No hay registros disponibles\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction UsuarioComponent_tbody_32_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 11)(12, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function UsuarioComponent_tbody_32_tr_1_Template_button_click_12_listener() {\n      const usuario_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.abrirModoEdicion(usuario_r2));\n    });\n    i0.ɵɵelement(13, \"i\", 36);\n    i0.ɵɵtext(14, \" \\u00A0Editar \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const usuario_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", usuario_r2.nombre, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", usuario_r2.correo, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", usuario_r2.telefono, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", usuario_r2.fechaRegistro, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", usuario_r2.activo ? \"Si\" : \"No\", \" \");\n  }\n}\nfunction UsuarioComponent_tbody_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtemplate(1, UsuarioComponent_tbody_32_tr_1_Template, 15, 5, \"tr\", 34);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.usuarios);\n  }\n}\nfunction UsuarioComponent_div_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵtext(1, \" El nombre completo es requerido. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsuarioComponent_div_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵtext(1, \" El correo es requerido. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsuarioComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵtext(1, \" El formato del correo no es v\\u00E1lido. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsuarioComponent_div_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵtext(1, \" El tel\\u00E9fono es requerido. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UsuarioComponent_div_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"label\", 38);\n    i0.ɵɵtext(2, \"Estado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 39)(4, \"option\", 40);\n    i0.ɵɵtext(5, \"Activo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"option\", 40);\n    i0.ɵɵtext(7, \"Inactivo\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"value\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", false);\n  }\n}\nexport class UsuarioComponent {\n  constructor(usuarioService, formBuilder, messageUtils, spinner) {\n    this.usuarioService = usuarioService;\n    this.formBuilder = formBuilder;\n    this.messageUtils = messageUtils;\n    this.spinner = spinner;\n    this.usuarios = [];\n    this.modoFormulario = '';\n    this.accion = \"\";\n    this.msjSpinner = \"Cargando\";\n    this.form = new FormGroup({\n      nombre: new FormControl(''),\n      correo: new FormControl(''),\n      telefono: new FormControl(''),\n      activo: new FormControl('')\n    });\n    this.cargarListaUsuarios();\n    this.cargarFormulario();\n  }\n  cargarFormulario() {\n    this.form = this.formBuilder.group({\n      nombre: ['', [Validators.required]],\n      correo: ['', [Validators.required]],\n      telefono: ['', [Validators.required]],\n      activo: ['', [Validators.required]]\n    });\n  }\n  get f() {\n    return this.form.controls;\n  }\n  cargarListaUsuarios() {\n    this.spinner.show();\n    this.usuarioService.getUsuarios().subscribe({\n      next: data => {\n        console.log(data);\n        this.usuarios = data;\n        this.spinner.hide();\n      },\n      error: error => {\n        Swal.fire('Error', error.error.message, 'error');\n        this.spinner.hide();\n      }\n    });\n  }\n  crearUsuarioModal(modoForm) {\n    this.modoFormulario = modoForm;\n    this.accion = modoForm == 'C' ? \"Crear Usuario\" : \"Actualizar Usuario\";\n    const modalElement = document.getElementById('crearUsuarioModal');\n    modalElement.blur();\n    modalElement.setAttribute('aria-hidden', 'false');\n    if (modalElement) {\n      // Verificar si ya existe una instancia del modal\n      if (!this.modalInstance) {\n        this.modalInstance = new bootstrap.Modal(modalElement);\n      }\n      this.modalInstance.show();\n    }\n  }\n  cerrarModal() {\n    this.form.reset();\n    this.form.markAsPristine();\n    this.form.markAsUntouched();\n    this.form.reset({\n      nombreCompleto: \"\",\n      correo: \"\",\n      telefono: \"\",\n      activo: \"\"\n    });\n    if (this.modalInstance) {\n      this.modalInstance.hide();\n    }\n    this.usuarioSelected = null;\n  }\n  abrirModoEdicion(usuario) {\n    this.usuarioSelected = usuario;\n    this.form.patchValue(usuario);\n    this.crearUsuarioModal('E');\n  }\n  guardarActualizarUsuario() {\n    if (this.modoFormulario === 'C') {\n      this.form.get('activo').setValue(true);\n    }\n    this.msjSpinner = this.modoFormulario === 'C' ? \"Creando usuario\" : \"Actualizando usuario\";\n    this.spinner.show();\n    if (this.form.valid) {\n      if (this.modoFormulario.includes('C')) {\n        this.usuarioService.crearUsuario(this.form.getRawValue()).subscribe({\n          next: data => {\n            this.cerrarModal();\n            this.messageUtils.showMessage(\"Éxito\", data.message, \"success\");\n            this.cargarListaUsuarios();\n            this.form.reset();\n            this.form.markAsPristine();\n            this.form.markAsUntouched();\n          },\n          error: error => {\n            this.messageUtils.showMessage(\"Error\", error.error.message, \"error\");\n          }\n        });\n      } else {\n        // Actualizar solo los campos específicos\n        this.usuarioSelected = {\n          ...this.usuarioSelected,\n          // Mantener los valores anteriores\n          ...this.form.getRawValue() // Sobrescribir con los valores del formulario\n        };\n        this.usuarioService.actualizarUsuario(this.usuarioSelected).subscribe({\n          next: data => {\n            this.cerrarModal();\n            this.messageUtils.showMessage(\"Éxito\", data.message, \"success\");\n            this.cargarListaUsuarios();\n            this.form.reset();\n            this.form.markAsPristine();\n            this.form.markAsUntouched();\n          },\n          error: error => {\n            this.messageUtils.showMessage(\"Error\", error.error.message, \"warning\");\n          }\n        });\n      }\n    }\n  }\n  static {\n    this.ɵfac = function UsuarioComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || UsuarioComponent)(i0.ɵɵdirectiveInject(i1.UsuarioService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.MessageUtils), i0.ɵɵdirectiveInject(i4.NgxSpinnerService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: UsuarioComponent,\n      selectors: [[\"app-usuario\"]],\n      decls: 64,\n      vars: 15,\n      consts: [[\"bdColor\", \"rgba(51,51,51,0.8)\", \"size\", \"medium\", \"color\", \"#fff\", \"type\", \"pacman\", 3, \"fullScreen\"], [1, \"container\"], [1, \"card\"], [1, \"card-header\"], [1, \"row\"], [1, \"col\"], [\"title\", \"Crear un usuario nuevo\", 1, \"btn\", \"btn-outline-primary\", 3, \"click\"], [1, \"fa\", \"fa-plus\"], [1, \"card-body\"], [1, \"table\", \"table-responsive\"], [1, \"table\", \"table-responsive\", \"table-stripped\"], [1, \"text-center\"], [4, \"ngIf\"], [\"id\", \"crearUsuarioModal\", \"tabindex\", \"-1\", \"aria-labelledby\", \"crearUsuarioModalLabel\", \"data-bs-backdrop\", \"static\", \"data-bs-keyboard\", \"false\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-md\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"crearUsuarioModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\"], [3, \"formGroup\"], [1, \"mb-3\"], [\"for\", \"nombre\", 1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"nombre\", \"id\", \"nombre\", \"placeholder\", \"Ingrese el nombre completo\", 1, \"form-control\", 3, \"ngModel\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"for\", \"correo\", 1, \"form-label\"], [\"type\", \"email\", \"formControlName\", \"correo\", \"id\", \"correo\", \"placeholder\", \"Ingrese el correo\", 1, \"form-control\", 3, \"ngModel\"], [\"for\", \"telefono\", 1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"telefono\", \"id\", \"telefono\", \"placeholder\", \"Ingrese el tel\\u00E9fono\", 1, \"form-control\", 3, \"ngModel\"], [\"class\", \"mb-3\", 4, \"ngIf\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"colspan\", \"6\", 1, \"text-center\"], [4, \"ngFor\", \"ngForOf\"], [\"title\", \"Editar usuario\", 1, \"btn\", \"btn-outline-primary\", \"btn-sm\", 3, \"click\"], [1, \"fa\", \"fa-edit\"], [1, \"text-danger\"], [\"for\", \"activo\", 1, \"form-label\"], [\"formControlName\", \"activo\", 1, \"form-select\"], [3, \"value\"]],\n      template: function UsuarioComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ngx-spinner\", 0);\n          i0.ɵɵtext(1);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5)(7, \"button\", 6);\n          i0.ɵɵlistener(\"click\", function UsuarioComponent_Template_button_click_7_listener() {\n            return ctx.crearUsuarioModal(\"C\");\n          });\n          i0.ɵɵelement(8, \"i\", 7);\n          i0.ɵɵtext(9, \" \\u00A0Nuevo \");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(10, \"div\", 8)(11, \"div\", 4)(12, \"div\", 5)(13, \"div\", 2)(14, \"div\", 8)(15, \"div\", 9)(16, \"table\", 10)(17, \"thead\")(18, \"tr\")(19, \"th\");\n          i0.ɵɵtext(20, \"Nombre completo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"th\");\n          i0.ɵɵtext(22, \"Correo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"th\");\n          i0.ɵɵtext(24, \"Tel\\u00E9fono\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"th\");\n          i0.ɵɵtext(26, \"Fecha de registro\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"th\");\n          i0.ɵɵtext(28, \"Estado\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"th\", 11);\n          i0.ɵɵtext(30, \"Opciones\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(31, UsuarioComponent_tbody_31_Template, 4, 0, \"tbody\", 12)(32, UsuarioComponent_tbody_32_Template, 2, 1, \"tbody\", 12);\n          i0.ɵɵelementEnd()()()()()()()()();\n          i0.ɵɵelementStart(33, \"div\", 13)(34, \"div\", 14)(35, \"div\", 15)(36, \"div\", 16)(37, \"h5\", 17);\n          i0.ɵɵtext(38);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(39, \"button\", 18);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(40, \"div\", 19)(41, \"form\", 20)(42, \"div\", 21)(43, \"label\", 22);\n          i0.ɵɵtext(44, \"Nombre Completo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(45, \"input\", 23);\n          i0.ɵɵtemplate(46, UsuarioComponent_div_46_Template, 2, 0, \"div\", 24);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(47, \"div\", 21)(48, \"label\", 25);\n          i0.ɵɵtext(49, \"Correo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(50, \"input\", 26);\n          i0.ɵɵtemplate(51, UsuarioComponent_div_51_Template, 2, 0, \"div\", 24)(52, UsuarioComponent_div_52_Template, 2, 0, \"div\", 24);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(53, \"div\", 21)(54, \"label\", 27);\n          i0.ɵɵtext(55, \"Tel\\u00E9fono\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(56, \"input\", 28);\n          i0.ɵɵtemplate(57, UsuarioComponent_div_57_Template, 2, 0, \"div\", 24);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(58, UsuarioComponent_div_58_Template, 8, 2, \"div\", 29);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(59, \"div\", 30)(60, \"button\", 31);\n          i0.ɵɵlistener(\"click\", function UsuarioComponent_Template_button_click_60_listener() {\n            return ctx.cerrarModal();\n          });\n          i0.ɵɵtext(61, \"Cerrar\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(62, \"button\", 32);\n          i0.ɵɵlistener(\"click\", function UsuarioComponent_Template_button_click_62_listener() {\n            return ctx.guardarActualizarUsuario();\n          });\n          i0.ɵɵtext(63);\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          let tmp_7_0;\n          let tmp_9_0;\n          let tmp_10_0;\n          let tmp_12_0;\n          i0.ɵɵproperty(\"fullScreen\", true);\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate1(\" \", ctx.msjSpinner, \"...\\n\");\n          i0.ɵɵadvance(30);\n          i0.ɵɵproperty(\"ngIf\", ctx.usuarios.length === 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.usuarios.length > 0);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate(ctx.accion);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"formGroup\", ctx.form);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.usuarioSelected == null ? null : ctx.usuarioSelected.nombre);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ((tmp_7_0 = ctx.form.get(\"nombre\")) == null ? null : tmp_7_0.hasError(\"required\")) && ((tmp_7_0 = ctx.form.get(\"nombre\")) == null ? null : tmp_7_0.touched));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.usuarioSelected == null ? null : ctx.usuarioSelected.correo);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ((tmp_9_0 = ctx.form.get(\"correo\")) == null ? null : tmp_9_0.hasError(\"required\")) && ((tmp_9_0 = ctx.form.get(\"correo\")) == null ? null : tmp_9_0.touched));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ((tmp_10_0 = ctx.form.get(\"correo\")) == null ? null : tmp_10_0.hasError(\"email\")) && ((tmp_10_0 = ctx.form.get(\"correo\")) == null ? null : tmp_10_0.touched));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.usuarioSelected == null ? null : ctx.usuarioSelected.telefono);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ((tmp_12_0 = ctx.form.get(\"telefono\")) == null ? null : tmp_12_0.hasError(\"required\")) && ((tmp_12_0 = ctx.form.get(\"telefono\")) == null ? null : tmp_12_0.touched));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.modoFormulario === \"E\");\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(ctx.accion);\n        }\n      },\n      dependencies: [CommonModule, i5.NgForOf, i5.NgIf, FormsModule, i2.ɵNgNoValidate, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, ReactiveFormsModule, i2.FormGroupDirective, i2.FormControlName, NgxSpinnerModule, i4.NgxSpinnerComponent],\n      styles: [\".swal-overlay[_ngcontent-%COMP%] {\\n  z-index: 1060 !important; \\n\\n}\\n\\n#crearUsuarioModal.modal[_ngcontent-%COMP%] {\\n  z-index: 1040 !important;\\n}\\n\\n#crearUsuarioModal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%] {\\n  z-index: 1030 !important;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZGVtby9wYWdlcy91c3VhcmlvL3VzdWFyaW8uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx3QkFBQSxFQUFBLHdDQUFBO0FBQ0o7O0FBRUU7RUFDRSx3QkFBQTtBQUNKOztBQUVFO0VBQ0Usd0JBQUE7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbIi5zd2FsLW92ZXJsYXkge1xyXG4gICAgei1pbmRleDogMTA2MCAhaW1wb3J0YW50OyAvKiBNYXlvciBxdWUgZWwgbW9kYWwgQm9vdHN0cmFwICgxMDUwKSAqL1xyXG4gIH1cclxuICBcclxuICAjY3JlYXJVc3VhcmlvTW9kYWwubW9kYWwge1xyXG4gICAgei1pbmRleDogMTA0MCAhaW1wb3J0YW50O1xyXG4gIH1cclxuICBcclxuICAjY3JlYXJVc3VhcmlvTW9kYWwgLm1vZGFsLWJhY2tkcm9wIHtcclxuICAgIHotaW5kZXg6IDEwMzAgIWltcG9ydGFudDtcclxuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","Swal","FormControl","FormGroup","Validators","FormsModule","ReactiveFormsModule","NgxSpinnerModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","UsuarioComponent_tbody_32_tr_1_Template_button_click_12_listener","usuario_r2","ɵɵrestoreView","_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","abrirModoEdicion","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate1","nombre","correo","telefono","fechaRegistro","activo","ɵɵtemplate","UsuarioComponent_tbody_32_tr_1_Template","ɵɵproperty","usuarios","UsuarioComponent","constructor","usuarioService","formBuilder","messageUtils","spinner","modoFormulario","accion","msjSpinner","form","cargarListaUsuarios","cargarFormulario","group","required","f","controls","show","getUsuarios","subscribe","next","data","console","log","hide","error","fire","message","crearUsuarioModal","modoForm","modalElement","document","getElementById","blur","setAttribute","modalInstance","bootstrap","Modal","cerrarModal","reset","markAsPristine","markAsUntouched","nombreCompleto","usuarioSelected","usuario","patchValue","guardarActualizarUsuario","get","setValue","valid","includes","crearUsuario","getRawValue","showMessage","actualizarUsuario","ɵɵdirectiveInject","i1","UsuarioService","i2","FormBuilder","i3","MessageUtils","i4","NgxSpinnerService","selectors","decls","vars","consts","template","UsuarioComponent_Template","rf","ctx","UsuarioComponent_Template_button_click_7_listener","UsuarioComponent_tbody_31_Template","UsuarioComponent_tbody_32_Template","UsuarioComponent_div_46_Template","UsuarioComponent_div_51_Template","UsuarioComponent_div_52_Template","UsuarioComponent_div_57_Template","UsuarioComponent_div_58_Template","UsuarioComponent_Template_button_click_60_listener","UsuarioComponent_Template_button_click_62_listener","length","ɵɵtextInterpolate","tmp_7_0","hasError","touched","tmp_9_0","tmp_10_0","tmp_12_0","i5","NgForOf","NgIf","ɵNgNoValidate","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","NgxSpinnerComponent","styles"],"sources":["C:\\Users\\david\\Documents\\frontend\\75320-front\\src\\app\\demo\\pages\\usuario\\usuario.component.ts","C:\\Users\\david\\Documents\\frontend\\75320-front\\src\\app\\demo\\pages\\usuario\\usuario.component.html"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Component } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { UsuarioService } from './service/usuario.service';\r\nimport { Usuario } from 'src/app/models/usuario';\r\nimport Swal from 'sweetalert2';\r\nimport { FormBuilder, FormControl, FormGroup, Validators, FormsModule, ReactiveFormsModule, AbstractControl } from '@angular/forms';\r\nimport { MessageUtils } from 'src/app/utils/message-utils';\r\n// Importa los objetos necesarios de Bootstrap\r\ndeclare const bootstrap: any;\r\nimport { NgxSpinnerModule, NgxSpinnerService } from 'ngx-spinner';\r\n\r\n@Component({\r\n  selector: 'app-usuario',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule, ReactiveFormsModule, NgxSpinnerModule],\r\n  templateUrl: './usuario.component.html',\r\n  styleUrl: './usuario.component.scss'\r\n})\r\nexport class UsuarioComponent {\r\n  usuarios: Usuario[] = [];\r\n  modalInstance: any;\r\n  modoFormulario: string = '';\r\n\r\n  usuarioSelected: Usuario;\r\n  accion: string = \"\";\r\n  msjSpinner: string = \"Cargando\";\r\n\r\n  form: FormGroup = new FormGroup({\r\n    nombre: new FormControl(''),\r\n    correo: new FormControl(''),\r\n    telefono: new FormControl(''),\r\n    activo: new FormControl('')\r\n  });\r\n\r\n  constructor(\r\n    private usuarioService: UsuarioService,\r\n    private formBuilder: FormBuilder,\r\n    private messageUtils: MessageUtils,\r\n    private spinner: NgxSpinnerService\r\n  ) {\r\n    this.cargarListaUsuarios();\r\n    this.cargarFormulario();\r\n  }\r\n\r\n  cargarFormulario() {\r\n    this.form = this.formBuilder.group({\r\n      nombre: ['', [Validators.required]],\r\n      correo: ['', [Validators.required]],\r\n      telefono: ['', [Validators.required]],\r\n      activo: ['', [Validators.required]]\r\n    });\r\n  }\r\n\r\n  get f(): { [key: string]: AbstractControl } {\r\n    return this.form.controls;\r\n  }\r\n\r\n  cargarListaUsuarios() {\r\n    this.spinner.show();\r\n    this.usuarioService.getUsuarios().subscribe({\r\n      next: (data) => {\r\n        console.log(data);\r\n        this.usuarios = data;\r\n        this.spinner.hide();\r\n      },\r\n      error: (error) => {\r\n        Swal.fire('Error', error.error.message, 'error');\r\n        this.spinner.hide();\r\n      }\r\n    });\r\n  }\r\n\r\n  crearUsuarioModal(modoForm: string) {\r\n    this.modoFormulario = modoForm;\r\n    this.accion = modoForm == 'C' ? \"Crear Usuario\" : \"Actualizar Usuario\";\r\n    const modalElement = document.getElementById('crearUsuarioModal');\r\n    modalElement.blur();\r\n    modalElement.setAttribute('aria-hidden', 'false');\r\n    if (modalElement) {\r\n      // Verificar si ya existe una instancia del modal\r\n      if (!this.modalInstance) {\r\n        this.modalInstance = new bootstrap.Modal(modalElement);\r\n      }\r\n      this.modalInstance.show();\r\n    }\r\n  }\r\n\r\n  cerrarModal() {\r\n    this.form.reset();\r\n    this.form.markAsPristine();\r\n    this.form.markAsUntouched();\r\n    this.form.reset({\r\n      nombreCompleto: \"\",\r\n      correo: \"\",\r\n      telefono: \"\",\r\n      activo: \"\"\r\n    });\r\n    if (this.modalInstance) {\r\n      this.modalInstance.hide();\r\n    }\r\n    this.usuarioSelected = null;\r\n  }\r\n\r\n  abrirModoEdicion(usuario: Usuario) {\r\n    this.usuarioSelected = usuario;\r\n    this.form.patchValue(usuario);\r\n    this.crearUsuarioModal('E');\r\n  }\r\n\r\n  guardarActualizarUsuario() {\r\n    if (this.modoFormulario === 'C') {\r\n      this.form.get('activo').setValue(true);\r\n    }\r\n\r\n    this.msjSpinner = this.modoFormulario === 'C' ? \"Creando usuario\" : \"Actualizando usuario\";\r\n    this.spinner.show();\r\n\r\n    if (this.form.valid) {\r\n      if (this.modoFormulario.includes('C')) {\r\n        this.usuarioService.crearUsuario(this.form.getRawValue())\r\n          .subscribe(\r\n            {\r\n              next: (data) => {\r\n                this.cerrarModal();\r\n                this.messageUtils.showMessage(\"Éxito\", data.message, \"success\");\r\n                this.cargarListaUsuarios();\r\n                this.form.reset();\r\n                this.form.markAsPristine();\r\n                this.form.markAsUntouched();\r\n              },\r\n              error: (error) => {\r\n                this.messageUtils.showMessage(\"Error\", error.error.message, \"error\");\r\n              }\r\n            }\r\n          );\r\n      } else {\r\n        // Actualizar solo los campos específicos\r\n        this.usuarioSelected = {\r\n          ...this.usuarioSelected, // Mantener los valores anteriores\r\n          ...this.form.getRawValue() // Sobrescribir con los valores del formulario\r\n        };\r\n        this.usuarioService.actualizarUsuario(this.usuarioSelected)\r\n          .subscribe(\r\n            {\r\n              next: (data) => {\r\n                this.cerrarModal();\r\n                this.messageUtils.showMessage(\"Éxito\", data.message, \"success\");\r\n                this.cargarListaUsuarios();\r\n                this.form.reset();\r\n                this.form.markAsPristine();\r\n                this.form.markAsUntouched();\r\n              },\r\n              error: (error) => {\r\n                this.messageUtils.showMessage(\"Error\", error.error.message, \"warning\");\r\n              }\r\n            }\r\n          );\r\n      }\r\n    }\r\n  }\r\n}\r\n","<ngx-spinner bdColor=\"rgba(51,51,51,0.8)\" size=\"medium\" color=\"#fff\" type=\"pacman\" [fullScreen]=\"true\">\r\n  {{msjSpinner}}...\r\n</ngx-spinner>\r\n\r\n<div class=\"container\">\r\n  <div class=\"card\">\r\n    <div class=\"card-header\">\r\n      <div class=\"row\">\r\n        <div class=\"col\">\r\n          <button class=\"btn btn-outline-primary\" (click)=\"crearUsuarioModal('C')\" title=\"Crear un usuario nuevo\">\r\n            <i class=\"fa fa-plus\"></i>\r\n            &nbsp;Nuevo\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"card-body\">\r\n      <div class=\"row\">\r\n        <div class=\"col\">\r\n          <div class=\"card\">\r\n            <div class=\"card-body\">\r\n              <div class=\"table table-responsive\">\r\n                <table class=\"table table-responsive table-stripped\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Nombre completo</th>\r\n                      <th>Correo</th>\r\n                      <th>Teléfono</th>\r\n                      <th>Fecha de registro</th>\r\n                      <th>Estado</th>\r\n                      <th class=\"text-center\">Opciones</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody *ngIf=\"usuarios.length === 0\">\r\n                    <tr>\r\n                      <td colspan=\"6\" class=\"text-center\">No hay registros disponibles</td>\r\n                    </tr>\r\n                  </tbody>\r\n                  <tbody *ngIf=\"usuarios.length > 0\">\r\n                    <tr *ngFor=\"let usuario of usuarios\">\r\n                      <td>\r\n                        {{ usuario.nombre }}\r\n                      </td>\r\n                      <td>\r\n                        {{ usuario.correo }}\r\n                      </td>\r\n                      <td>\r\n                        {{ usuario.telefono }}\r\n                      </td>\r\n                      <td>\r\n                        {{ usuario.fechaRegistro }}\r\n                      </td>\r\n                      <td>\r\n                        {{ usuario.activo ? 'Si' : 'No' }}\r\n                      </td>\r\n                      <td class=\"text-center\">\r\n                        <button class=\"btn btn-outline-primary btn-sm\" title=\"Editar usuario\"\r\n                          (click)=\"abrirModoEdicion(usuario)\">\r\n                          <i class=\"fa fa-edit\"></i>\r\n                          &nbsp;Editar\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- Modal crear/actualizar usuarios -->\r\n<div class=\"modal fade\" id=\"crearUsuarioModal\" tabindex=\"-1\" aria-labelledby=\"crearUsuarioModalLabel\"\r\n  data-bs-backdrop=\"static\" data-bs-keyboard=\"false\">\r\n  <div class=\"modal-dialog modal-md\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"crearUsuarioModalLabel\">{{accion}}</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <form [formGroup]=\"form\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"nombre\" class=\"form-label\">Nombre Completo</label>\r\n            <input type=\"text\" formControlName=\"nombre\" class=\"form-control\" id=\"nombre\"\r\n              placeholder=\"Ingrese el nombre completo\" [ngModel]=\"usuarioSelected?.nombre\" />\r\n            <div *ngIf=\"form.get('nombre')?.hasError('required') && form.get('nombre')?.touched\" class=\"text-danger\">\r\n              El nombre completo es requerido.\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"mb-3\">\r\n            <label for=\"correo\" class=\"form-label\">Correo</label>\r\n            <input type=\"email\" formControlName=\"correo\" class=\"form-control\" id=\"correo\"\r\n              placeholder=\"Ingrese el correo\" [ngModel]=\"usuarioSelected?.correo\" />\r\n            <div *ngIf=\"form.get('correo')?.hasError('required') && form.get('correo')?.touched\" class=\"text-danger\">\r\n              El correo es requerido.\r\n            </div>\r\n            <div *ngIf=\"form.get('correo')?.hasError('email') && form.get('correo')?.touched\" class=\"text-danger\">\r\n              El formato del correo no es válido.\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"mb-3\">\r\n            <label for=\"telefono\" class=\"form-label\">Teléfono</label>\r\n            <input type=\"text\" formControlName=\"telefono\" class=\"form-control\" id=\"telefono\"\r\n              placeholder=\"Ingrese el teléfono\" [ngModel]=\"usuarioSelected?.telefono\" />\r\n            <div *ngIf=\"form.get('telefono')?.hasError('required') && form.get('telefono')?.touched\"\r\n              class=\"text-danger\">\r\n              El teléfono es requerido.\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"mb-3\" *ngIf=\"modoFormulario === 'E'\">\r\n            <label for=\"activo\" class=\"form-label\">Estado</label>\r\n            <select class=\"form-select\" formControlName=\"activo\">\r\n              <option [value]=\"true\">Activo</option>\r\n              <option [value]=\"false\">Inactivo</option>\r\n            </select>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-secondary\" (click)=\"cerrarModal()\">Cerrar</button>\r\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"guardarActualizarUsuario()\">{{accion}}</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}