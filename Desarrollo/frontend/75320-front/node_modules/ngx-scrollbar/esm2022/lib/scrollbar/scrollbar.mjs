import { Component, effect, inject, ChangeDetectionStrategy } from '@angular/core';
import { from } from 'rxjs';
import { TrackXDirective, TrackYDirective } from '../track/track';
import { ThumbXDirective, ThumbYDirective } from '../thumb/thumb';
import { SCROLLBAR_CONTROL, ScrollbarAdapter } from './scrollbar-adapter';
import { ScrollbarButton } from '../button/scrollbar-button.component';
import { ScrollbarManager } from '../utils/scrollbar-manager';
import * as i0 from "@angular/core";
export class ScrollbarY extends ScrollbarAdapter {
    constructor() {
        super(...arguments);
        this.rectOffsetProperty = 'top';
        this.rectSizeProperty = 'height';
        this.sizeProperty = 'offsetHeight';
        this.clientProperty = 'clientY';
        this.offsetProperty = 'offsetY';
        this.axis = 'y';
    }
    get viewportScrollMax() {
        return this.cmp.viewport.scrollMaxY;
    }
    get viewportScrollOffset() {
        return this.cmp.viewport.scrollTop;
    }
    scrollTo(top, duration) {
        return from(this.cmp.scrollTo({ top, duration }));
    }
    instantScrollTo(value) {
        this.cmp.viewport.scrollYTo(value);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.11", ngImport: i0, type: ScrollbarY, deps: null, target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.11", type: ScrollbarY, isStandalone: true, selector: "scrollbar-y", host: { properties: { "style.--track-size": "trackSize()" } }, providers: [
            { provide: SCROLLBAR_CONTROL, useExisting: ScrollbarY }
        ], usesInheritance: true, ngImport: i0, template: `
    <div class="ng-scrollbar-sticky"
         [class.ng-scrollbar-hover]="cmp.hoverOffset()">
      <div class="ng-scrollbar-track-wrapper"
           [class.ng-scrollbar-hover]="!cmp.hoverOffset()">
        <div scrollbarTrackY class="ng-scrollbar-track {{ cmp.trackClass() }}">
          <div scrollbarThumbY class="ng-scrollbar-thumb {{ cmp.thumbClass() }}"></div>
        </div>
        @if (cmp.buttons()) {
          <button class="ng-scrollbar-button {{ cmp.buttonClass() }}"
                  scrollbarButton="top"
                  scrollDirection="backward"></button>
          <button class="ng-scrollbar-button {{ cmp.buttonClass() }}"
                  scrollbarButton="bottom"
                  scrollDirection="forward"></button>
        }
      </div>
    </div>
  `, isInline: true, styles: [":host{position:absolute;inset:0;pointer-events:none;min-width:calc(var(--viewport-width) * 1px);min-height:calc(var(--viewport-height) * 1px)}.ng-scrollbar-sticky{top:calc(var(--_scrollbar-wrapper-top) * 1px);left:calc(var(--_scrollbar-wrapper-left) * 1px);right:calc(var(--_scrollbar-wrapper-right) * 1px);height:calc(var(--_scrollbar-wrapper-height) * 1px);width:calc(var(--_scrollbar-wrapper-width) * 1px);position:sticky;z-index:100;opacity:var(--_scrollbar-hover-opacity);transition:var(--_scrollbar-opacity-transition);pointer-events:var(--_scrollbar-pointer-events)}.ng-scrollbar-track-wrapper{touch-action:none;-webkit-user-select:none;user-select:none;top:var(--_scrollbar-track-top);bottom:var(--_scrollbar-track-bottom);right:var(--_scrollbar-track-right);left:var(--_scrollbar-track-left);transition:var(--INTERNAL-scrollbar-track-wrapper-transition);position:absolute;overflow:hidden;display:flex;place-items:center}.ng-scrollbar-track{position:relative;width:100%;height:100%;background-color:var(--INTERNAL-scrollbar-track-color);border-radius:var(--INTERNAL-scrollbar-border-radius);cursor:default;z-index:1;order:2}.ng-scrollbar-thumb{box-sizing:border-box;position:absolute;transition:var(--INTERNAL-scrollbar-thumb-transition);border-radius:var(--INTERNAL-scrollbar-border-radius);height:var(--_thumb-height);width:var(--_thumb-width);animation-name:scrollbarThumbAnimation;animation-duration:1ms;animation-timing-function:linear}@keyframes scrollbarThumbAnimation{0%{translate:var(--_scrollbar-thumb-transform-from)}to{translate:var(--_scrollbar-thumb-transform-to)}}\n", ":host{--_scrollbar-wrapper-top: 0;--_scrollbar-wrapper-left: var(--_scrollbar-wrapper-y-left);--_scrollbar-wrapper-right: var(--_scrollbar-wrapper-y-right);--_scrollbar-wrapper-height: var(--viewport-height);--_scrollbar-wrapper-width: var(--_scrollbar-thickness);--_scrollbar-track-top: var(--_vertical-top);--_scrollbar-track-bottom: var(--_vertical-bottom);--_scrollbar-track-right: var(--_vertical-right);--_scrollbar-track-left: var(--_vertical-left);--thumb-size: max(calc(var(--viewport-height) * var(--track-size) / var(--content-height)), var(--INTERNAL-scrollbar-thumb-min-size));--_thumb-height: calc(var(--thumb-size) * 1px);--_thumb-width: 100%;--_scrollbar-y-thumb-transform-to-value: calc(var(--track-size) - var(--thumb-size));--_scrollbar-thumb-transform-from: 0 0;--_scrollbar-thumb-transform-to: 0 calc(var(--_scrollbar-y-thumb-transform-to-value) * 1px)}.ng-scrollbar-track-wrapper{width:var(--_track-y-thickness);flex-direction:column}.ng-scrollbar-hover:hover,.ng-scrollbar-hover:active{--_track-y-thickness: var(--_scrollbar-hover-thickness-px);--_thumb-y-color: var(--INTERNAL-scrollbar-thumb-hover-color)}.ng-scrollbar-thumb{animation-timeline:var(--_animation-timeline-y);min-height:calc(var(--INTERNAL-scrollbar-thumb-min-size) * 1px);display:var(--_vertical-thumb-display);background-color:var(--_thumb-y-color)}\n"], dependencies: [{ kind: "directive", type: TrackYDirective, selector: "[scrollbarTrackY]" }, { kind: "directive", type: ThumbYDirective, selector: "[scrollbarThumbY]" }, { kind: "component", type: ScrollbarButton, selector: "button[scrollbarButton]", inputs: ["scrollbarButton", "scrollDirection"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.11", ngImport: i0, type: ScrollbarY, decorators: [{
            type: Component,
            args: [{ standalone: true, selector: 'scrollbar-y', template: `
    <div class="ng-scrollbar-sticky"
         [class.ng-scrollbar-hover]="cmp.hoverOffset()">
      <div class="ng-scrollbar-track-wrapper"
           [class.ng-scrollbar-hover]="!cmp.hoverOffset()">
        <div scrollbarTrackY class="ng-scrollbar-track {{ cmp.trackClass() }}">
          <div scrollbarThumbY class="ng-scrollbar-thumb {{ cmp.thumbClass() }}"></div>
        </div>
        @if (cmp.buttons()) {
          <button class="ng-scrollbar-button {{ cmp.buttonClass() }}"
                  scrollbarButton="top"
                  scrollDirection="backward"></button>
          <button class="ng-scrollbar-button {{ cmp.buttonClass() }}"
                  scrollbarButton="bottom"
                  scrollDirection="forward"></button>
        }
      </div>
    </div>
  `, imports: [TrackYDirective, ThumbYDirective, ScrollbarButton], providers: [
                        { provide: SCROLLBAR_CONTROL, useExisting: ScrollbarY }
                    ], host: {
                        '[style.--track-size]': 'trackSize()'
                    }, changeDetection: ChangeDetectionStrategy.OnPush, styles: [":host{position:absolute;inset:0;pointer-events:none;min-width:calc(var(--viewport-width) * 1px);min-height:calc(var(--viewport-height) * 1px)}.ng-scrollbar-sticky{top:calc(var(--_scrollbar-wrapper-top) * 1px);left:calc(var(--_scrollbar-wrapper-left) * 1px);right:calc(var(--_scrollbar-wrapper-right) * 1px);height:calc(var(--_scrollbar-wrapper-height) * 1px);width:calc(var(--_scrollbar-wrapper-width) * 1px);position:sticky;z-index:100;opacity:var(--_scrollbar-hover-opacity);transition:var(--_scrollbar-opacity-transition);pointer-events:var(--_scrollbar-pointer-events)}.ng-scrollbar-track-wrapper{touch-action:none;-webkit-user-select:none;user-select:none;top:var(--_scrollbar-track-top);bottom:var(--_scrollbar-track-bottom);right:var(--_scrollbar-track-right);left:var(--_scrollbar-track-left);transition:var(--INTERNAL-scrollbar-track-wrapper-transition);position:absolute;overflow:hidden;display:flex;place-items:center}.ng-scrollbar-track{position:relative;width:100%;height:100%;background-color:var(--INTERNAL-scrollbar-track-color);border-radius:var(--INTERNAL-scrollbar-border-radius);cursor:default;z-index:1;order:2}.ng-scrollbar-thumb{box-sizing:border-box;position:absolute;transition:var(--INTERNAL-scrollbar-thumb-transition);border-radius:var(--INTERNAL-scrollbar-border-radius);height:var(--_thumb-height);width:var(--_thumb-width);animation-name:scrollbarThumbAnimation;animation-duration:1ms;animation-timing-function:linear}@keyframes scrollbarThumbAnimation{0%{translate:var(--_scrollbar-thumb-transform-from)}to{translate:var(--_scrollbar-thumb-transform-to)}}\n", ":host{--_scrollbar-wrapper-top: 0;--_scrollbar-wrapper-left: var(--_scrollbar-wrapper-y-left);--_scrollbar-wrapper-right: var(--_scrollbar-wrapper-y-right);--_scrollbar-wrapper-height: var(--viewport-height);--_scrollbar-wrapper-width: var(--_scrollbar-thickness);--_scrollbar-track-top: var(--_vertical-top);--_scrollbar-track-bottom: var(--_vertical-bottom);--_scrollbar-track-right: var(--_vertical-right);--_scrollbar-track-left: var(--_vertical-left);--thumb-size: max(calc(var(--viewport-height) * var(--track-size) / var(--content-height)), var(--INTERNAL-scrollbar-thumb-min-size));--_thumb-height: calc(var(--thumb-size) * 1px);--_thumb-width: 100%;--_scrollbar-y-thumb-transform-to-value: calc(var(--track-size) - var(--thumb-size));--_scrollbar-thumb-transform-from: 0 0;--_scrollbar-thumb-transform-to: 0 calc(var(--_scrollbar-y-thumb-transform-to-value) * 1px)}.ng-scrollbar-track-wrapper{width:var(--_track-y-thickness);flex-direction:column}.ng-scrollbar-hover:hover,.ng-scrollbar-hover:active{--_track-y-thickness: var(--_scrollbar-hover-thickness-px);--_thumb-y-color: var(--INTERNAL-scrollbar-thumb-hover-color)}.ng-scrollbar-thumb{animation-timeline:var(--_animation-timeline-y);min-height:calc(var(--INTERNAL-scrollbar-thumb-min-size) * 1px);display:var(--_vertical-thumb-display);background-color:var(--_thumb-y-color)}\n"] }]
        }] });
export class ScrollbarX extends ScrollbarAdapter {
    get viewportScrollMax() {
        return this.cmp.viewport.scrollMaxX;
    }
    get viewportScrollOffset() {
        // Keep scrollLeft value positive for horizontal scrollbar
        return Math.abs(this.cmp.viewport.scrollLeft);
    }
    constructor() {
        effect(() => {
            if (this.cmp.direction() === 'rtl') {
                this.handlePosition = (position, scrollMax) => -(scrollMax - position);
            }
            else {
                this.handlePosition = (position) => position;
            }
        });
        super();
        this.manager = inject(ScrollbarManager);
        this.rectOffsetProperty = 'left';
        this.rectSizeProperty = 'width';
        this.sizeProperty = 'offsetWidth';
        this.clientProperty = 'clientX';
        this.offsetProperty = 'offsetX';
        this.axis = 'x';
    }
    scrollTo(left, duration) {
        return from(this.cmp.scrollTo({ left, duration }));
    }
    instantScrollTo(value, scrollMax) {
        this.cmp.viewport.scrollXTo(this.handlePosition(value, scrollMax));
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.11", ngImport: i0, type: ScrollbarX, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.11", type: ScrollbarX, isStandalone: true, selector: "scrollbar-x", host: { properties: { "attr.dir": "cmp.direction()", "style.--track-size": "trackSize()" } }, providers: [
            { provide: SCROLLBAR_CONTROL, useExisting: ScrollbarX }
        ], usesInheritance: true, ngImport: i0, template: `
    <div class="ng-scrollbar-sticky"
         [class.ng-scrollbar-hover]="cmp.hoverOffset()">
      <div class="ng-scrollbar-track-wrapper"
           [class.ng-scrollbar-hover]="!cmp.hoverOffset()">
        <div scrollbarTrackX class="ng-scrollbar-track {{ cmp.trackClass() }}">
          <div scrollbarThumbX class="ng-scrollbar-thumb {{ cmp.thumbClass() }}"></div>
        </div>
        @if (cmp.buttons()) {
          <button class="ng-scrollbar-button {{ cmp.buttonClass() }}"
                  scrollbarButton="start"
                  scrollDirection="backward"></button>
          <button class="ng-scrollbar-button {{ cmp.buttonClass() }}"
                  scrollbarButton="end"
                  scrollDirection="forward"></button>
        }
      </div>
    </div>
  `, isInline: true, styles: [":host{position:absolute;inset:0;pointer-events:none;min-width:calc(var(--viewport-width) * 1px);min-height:calc(var(--viewport-height) * 1px)}.ng-scrollbar-sticky{top:calc(var(--_scrollbar-wrapper-top) * 1px);left:calc(var(--_scrollbar-wrapper-left) * 1px);right:calc(var(--_scrollbar-wrapper-right) * 1px);height:calc(var(--_scrollbar-wrapper-height) * 1px);width:calc(var(--_scrollbar-wrapper-width) * 1px);position:sticky;z-index:100;opacity:var(--_scrollbar-hover-opacity);transition:var(--_scrollbar-opacity-transition);pointer-events:var(--_scrollbar-pointer-events)}.ng-scrollbar-track-wrapper{touch-action:none;-webkit-user-select:none;user-select:none;top:var(--_scrollbar-track-top);bottom:var(--_scrollbar-track-bottom);right:var(--_scrollbar-track-right);left:var(--_scrollbar-track-left);transition:var(--INTERNAL-scrollbar-track-wrapper-transition);position:absolute;overflow:hidden;display:flex;place-items:center}.ng-scrollbar-track{position:relative;width:100%;height:100%;background-color:var(--INTERNAL-scrollbar-track-color);border-radius:var(--INTERNAL-scrollbar-border-radius);cursor:default;z-index:1;order:2}.ng-scrollbar-thumb{box-sizing:border-box;position:absolute;transition:var(--INTERNAL-scrollbar-thumb-transition);border-radius:var(--INTERNAL-scrollbar-border-radius);height:var(--_thumb-height);width:var(--_thumb-width);animation-name:scrollbarThumbAnimation;animation-duration:1ms;animation-timing-function:linear}@keyframes scrollbarThumbAnimation{0%{translate:var(--_scrollbar-thumb-transform-from)}to{translate:var(--_scrollbar-thumb-transform-to)}}\n", ":host{--_scrollbar-wrapper-top: var(--_scrollbar-wrapper-x-top);--_scrollbar-wrapper-left: 0;--_scrollbar-wrapper-right: 0;--_scrollbar-wrapper-height: var(--_scrollbar-thickness);--_scrollbar-wrapper-width: var(--viewport-width);--_scrollbar-track-top: var(--_horizontal-top);--_scrollbar-track-bottom: var(--_horizontal-bottom);--_scrollbar-track-right: var(--_horizontal-right);--_scrollbar-track-left: var(--_horizontal-left);--thumb-size: max(calc(var(--viewport-width) * var(--track-size) / var(--content-width)), var(--INTERNAL-scrollbar-thumb-min-size));--_thumb-height: 100%;--_thumb-width: calc(var(--thumb-size) * 1px);--_scrollbar-x-thumb-transform-to-value: calc(var(--track-size) - var(--thumb-size));--_scrollbar-thumb-transform-from: 0;--_scrollbar-thumb-transform-to: calc(var(--_scrollbar-x-thumb-transform-to-value) * 1px)}:host .ng-scrollbar-button[scrollbarButton=start]{_--button-rotate:90}:host .ng-scrollbar-button[scrollbarButton=end]{_--button-rotate:-90}:host[dir=rtl] .ng-scrollbar-thumb{animation-name:scrollbarThumbRTLAnimation;will-change:right;--_scrollbar-thumb-transform-to: calc(var(--_scrollbar-x-thumb-transform-to-value) * -1px)}:host[dir=rtl] .ng-scrollbar-button[scrollbarButton=start]{--_button-rotate: 90deg}:host[dir=rtl] .ng-scrollbar-button[scrollbarButton=end]{--_button-rotate: -90deg}.ng-scrollbar-track-wrapper{height:var(--_track-x-thickness);flex-direction:row}.ng-scrollbar-hover:hover,.ng-scrollbar-hover:active{--_track-x-thickness: var(--_scrollbar-hover-thickness-px);--_thumb-x-color: var(--INTERNAL-scrollbar-thumb-hover-color)}.ng-scrollbar-thumb{animation-timeline:var(--_animation-timeline-x);min-width:calc(var(--INTERNAL-scrollbar-thumb-min-size) * 1px);display:var(--_horizontal-thumb-display);background-color:var(--_thumb-x-color)}@keyframes scrollbarThumbRTLAnimation{0%{right:var(--_scrollbar-thumb-transform-from)}to{right:calc(var(--_scrollbar-thumb-transform-to) * -1)}}\n"], dependencies: [{ kind: "directive", type: TrackXDirective, selector: "[scrollbarTrackX]" }, { kind: "directive", type: ThumbXDirective, selector: "[scrollbarThumbX]" }, { kind: "component", type: ScrollbarButton, selector: "button[scrollbarButton]", inputs: ["scrollbarButton", "scrollDirection"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.11", ngImport: i0, type: ScrollbarX, decorators: [{
            type: Component,
            args: [{ standalone: true, selector: 'scrollbar-x', template: `
    <div class="ng-scrollbar-sticky"
         [class.ng-scrollbar-hover]="cmp.hoverOffset()">
      <div class="ng-scrollbar-track-wrapper"
           [class.ng-scrollbar-hover]="!cmp.hoverOffset()">
        <div scrollbarTrackX class="ng-scrollbar-track {{ cmp.trackClass() }}">
          <div scrollbarThumbX class="ng-scrollbar-thumb {{ cmp.thumbClass() }}"></div>
        </div>
        @if (cmp.buttons()) {
          <button class="ng-scrollbar-button {{ cmp.buttonClass() }}"
                  scrollbarButton="start"
                  scrollDirection="backward"></button>
          <button class="ng-scrollbar-button {{ cmp.buttonClass() }}"
                  scrollbarButton="end"
                  scrollDirection="forward"></button>
        }
      </div>
    </div>
  `, imports: [TrackXDirective, ThumbXDirective, ScrollbarButton], providers: [
                        { provide: SCROLLBAR_CONTROL, useExisting: ScrollbarX }
                    ], host: {
                        '[attr.dir]': 'cmp.direction()',
                        '[style.--track-size]': 'trackSize()'
                    }, changeDetection: ChangeDetectionStrategy.OnPush, styles: [":host{position:absolute;inset:0;pointer-events:none;min-width:calc(var(--viewport-width) * 1px);min-height:calc(var(--viewport-height) * 1px)}.ng-scrollbar-sticky{top:calc(var(--_scrollbar-wrapper-top) * 1px);left:calc(var(--_scrollbar-wrapper-left) * 1px);right:calc(var(--_scrollbar-wrapper-right) * 1px);height:calc(var(--_scrollbar-wrapper-height) * 1px);width:calc(var(--_scrollbar-wrapper-width) * 1px);position:sticky;z-index:100;opacity:var(--_scrollbar-hover-opacity);transition:var(--_scrollbar-opacity-transition);pointer-events:var(--_scrollbar-pointer-events)}.ng-scrollbar-track-wrapper{touch-action:none;-webkit-user-select:none;user-select:none;top:var(--_scrollbar-track-top);bottom:var(--_scrollbar-track-bottom);right:var(--_scrollbar-track-right);left:var(--_scrollbar-track-left);transition:var(--INTERNAL-scrollbar-track-wrapper-transition);position:absolute;overflow:hidden;display:flex;place-items:center}.ng-scrollbar-track{position:relative;width:100%;height:100%;background-color:var(--INTERNAL-scrollbar-track-color);border-radius:var(--INTERNAL-scrollbar-border-radius);cursor:default;z-index:1;order:2}.ng-scrollbar-thumb{box-sizing:border-box;position:absolute;transition:var(--INTERNAL-scrollbar-thumb-transition);border-radius:var(--INTERNAL-scrollbar-border-radius);height:var(--_thumb-height);width:var(--_thumb-width);animation-name:scrollbarThumbAnimation;animation-duration:1ms;animation-timing-function:linear}@keyframes scrollbarThumbAnimation{0%{translate:var(--_scrollbar-thumb-transform-from)}to{translate:var(--_scrollbar-thumb-transform-to)}}\n", ":host{--_scrollbar-wrapper-top: var(--_scrollbar-wrapper-x-top);--_scrollbar-wrapper-left: 0;--_scrollbar-wrapper-right: 0;--_scrollbar-wrapper-height: var(--_scrollbar-thickness);--_scrollbar-wrapper-width: var(--viewport-width);--_scrollbar-track-top: var(--_horizontal-top);--_scrollbar-track-bottom: var(--_horizontal-bottom);--_scrollbar-track-right: var(--_horizontal-right);--_scrollbar-track-left: var(--_horizontal-left);--thumb-size: max(calc(var(--viewport-width) * var(--track-size) / var(--content-width)), var(--INTERNAL-scrollbar-thumb-min-size));--_thumb-height: 100%;--_thumb-width: calc(var(--thumb-size) * 1px);--_scrollbar-x-thumb-transform-to-value: calc(var(--track-size) - var(--thumb-size));--_scrollbar-thumb-transform-from: 0;--_scrollbar-thumb-transform-to: calc(var(--_scrollbar-x-thumb-transform-to-value) * 1px)}:host .ng-scrollbar-button[scrollbarButton=start]{_--button-rotate:90}:host .ng-scrollbar-button[scrollbarButton=end]{_--button-rotate:-90}:host[dir=rtl] .ng-scrollbar-thumb{animation-name:scrollbarThumbRTLAnimation;will-change:right;--_scrollbar-thumb-transform-to: calc(var(--_scrollbar-x-thumb-transform-to-value) * -1px)}:host[dir=rtl] .ng-scrollbar-button[scrollbarButton=start]{--_button-rotate: 90deg}:host[dir=rtl] .ng-scrollbar-button[scrollbarButton=end]{--_button-rotate: -90deg}.ng-scrollbar-track-wrapper{height:var(--_track-x-thickness);flex-direction:row}.ng-scrollbar-hover:hover,.ng-scrollbar-hover:active{--_track-x-thickness: var(--_scrollbar-hover-thickness-px);--_thumb-x-color: var(--INTERNAL-scrollbar-thumb-hover-color)}.ng-scrollbar-thumb{animation-timeline:var(--_animation-timeline-x);min-width:calc(var(--INTERNAL-scrollbar-thumb-min-size) * 1px);display:var(--_horizontal-thumb-display);background-color:var(--_thumb-x-color)}@keyframes scrollbarThumbRTLAnimation{0%{right:var(--_scrollbar-thumb-transform-from)}to{right:calc(var(--_scrollbar-thumb-transform-to) * -1)}}\n"] }]
        }], ctorParameters: () => [] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2Nyb2xsYmFyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LXNjcm9sbGJhci9zcmMvbGliL3Njcm9sbGJhci9zY3JvbGxiYXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLHVCQUF1QixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ25GLE9BQU8sRUFBRSxJQUFJLEVBQWMsTUFBTSxNQUFNLENBQUM7QUFDeEMsT0FBTyxFQUFFLGVBQWUsRUFBRSxlQUFlLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNsRSxPQUFPLEVBQUUsZUFBZSxFQUFFLGVBQWUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2xFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQzFFLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxzQ0FBc0MsQ0FBQztBQUN2RSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQzs7QUFrQzlELE1BQU0sT0FBTyxVQUFXLFNBQVEsZ0JBQWdCO0lBaENoRDs7UUFrQ1csdUJBQWtCLEdBQW1CLEtBQUssQ0FBQztRQUUzQyxxQkFBZ0IsR0FBdUIsUUFBUSxDQUFDO1FBRWhELGlCQUFZLEdBQW1DLGNBQWMsQ0FBQztRQUU5RCxtQkFBYyxHQUEwQixTQUFTLENBQUM7UUFFbEQsbUJBQWMsR0FBMEIsU0FBUyxDQUFDO1FBRWxELFNBQUksR0FBYyxHQUFHLENBQUM7S0FpQmhDO0lBZkMsSUFBSSxpQkFBaUI7UUFDbkIsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUM7SUFDdEMsQ0FBQztJQUVELElBQUksb0JBQW9CO1FBQ3RCLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDO0lBQ3JDLENBQUM7SUFF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OERBQUUsZUFBZTs7NEZBVWhELFVBQVU7a0JBakN0QixTQUFTO2lDQUNJLElBQUksWUFDTixhQUFhLFlBQ2I7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWtCVCxXQUVRLENBQUMsZUFBZSxFQUFFLGVBQWUsRUFBRSxlQUFlLENBQUMsYUFDakQ7d0JBQ1QsRUFBRSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsV0FBVyxZQUFZLEVBQUU7cUJBQ3hELFFBQ0s7d0JBQ0osWUFBWSxFQUFFLGlCQUFpQjt3QkFDL0Isc0JBQXNCLEVBQUUsYUFBYTtxQkFDdEMsbUJBQ2dCLHVCQUF1QixDQUFDLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIGVmZmVjdCwgaW5qZWN0LCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBmcm9tLCBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IFRyYWNrWERpcmVjdGl2ZSwgVHJhY2tZRGlyZWN0aXZlIH0gZnJvbSAnLi4vdHJhY2svdHJhY2snO1xyXG5pbXBvcnQgeyBUaHVtYlhEaXJlY3RpdmUsIFRodW1iWURpcmVjdGl2ZSB9IGZyb20gJy4uL3RodW1iL3RodW1iJztcclxuaW1wb3J0IHsgU0NST0xMQkFSX0NPTlRST0wsIFNjcm9sbGJhckFkYXB0ZXIgfSBmcm9tICcuL3Njcm9sbGJhci1hZGFwdGVyJztcclxuaW1wb3J0IHsgU2Nyb2xsYmFyQnV0dG9uIH0gZnJvbSAnLi4vYnV0dG9uL3Njcm9sbGJhci1idXR0b24uY29tcG9uZW50JztcclxuaW1wb3J0IHsgU2Nyb2xsYmFyTWFuYWdlciB9IGZyb20gJy4uL3V0aWxzL3Njcm9sbGJhci1tYW5hZ2VyJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHN0YW5kYWxvbmU6IHRydWUsXHJcbiAgc2VsZWN0b3I6ICdzY3JvbGxiYXIteScsXHJcbiAgdGVtcGxhdGU6IGBcclxuICAgIDxkaXYgY2xhc3M9XCJuZy1zY3JvbGxiYXItc3RpY2t5XCJcclxuICAgICAgICAgW2NsYXNzLm5nLXNjcm9sbGJhci1ob3Zlcl09XCJjbXAuaG92ZXJPZmZzZXQoKVwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwibmctc2Nyb2xsYmFyLXRyYWNrLXdyYXBwZXJcIlxyXG4gICAgICAgICAgIFtjbGFzcy5uZy1zY3JvbGxiYXItaG92ZXJdPVwiIWNtcC5ob3Zlck9mZnNldCgpXCI+XHJcbiAgICAgICAgPGRpdiBzY3JvbGxiYXJUcmFja1kgY2xhc3M9XCJuZy1zY3JvbGxiYXItdHJhY2sge3sgY21wLnRyYWNrQ2xhc3MoKSB9fVwiPlxyXG4gICAgICAgICAgPGRpdiBzY3JvbGxiYXJUaHVtYlkgY2xhc3M9XCJuZy1zY3JvbGxiYXItdGh1bWIge3sgY21wLnRodW1iQ2xhc3MoKSB9fVwiPjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIEBpZiAoY21wLmJ1dHRvbnMoKSkge1xyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm5nLXNjcm9sbGJhci1idXR0b24ge3sgY21wLmJ1dHRvbkNsYXNzKCkgfX1cIlxyXG4gICAgICAgICAgICAgICAgICBzY3JvbGxiYXJCdXR0b249XCJ0b3BcIlxyXG4gICAgICAgICAgICAgICAgICBzY3JvbGxEaXJlY3Rpb249XCJiYWNrd2FyZFwiPjwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm5nLXNjcm9sbGJhci1idXR0b24ge3sgY21wLmJ1dHRvbkNsYXNzKCkgfX1cIlxyXG4gICAgICAgICAgICAgICAgICBzY3JvbGxiYXJCdXR0b249XCJib3R0b21cIlxyXG4gICAgICAgICAgICAgICAgICBzY3JvbGxEaXJlY3Rpb249XCJmb3J3YXJkXCI+PC9idXR0b24+XHJcbiAgICAgICAgfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIGAsXHJcbiAgc3R5bGVVcmxzOiBbJy4vc2hhcmVkLnNjc3MnLCAnLi92ZXJ0aWNhbC5zY3NzJ10sXHJcbiAgaW1wb3J0czogW1RyYWNrWURpcmVjdGl2ZSwgVGh1bWJZRGlyZWN0aXZlLCBTY3JvbGxiYXJCdXR0b25dLFxyXG4gIHByb3ZpZGVyczogW1xyXG4gICAgeyBwcm92aWRlOiBTQ1JPTExCQVJfQ09OVFJPTCwgdXNlRXhpc3Rpbmc6IFNjcm9sbGJhclkgfVxyXG4gIF0sXHJcbiAgaG9zdDoge1xyXG4gICAgJ1tzdHlsZS4tLXRyYWNrLXNpemVdJzogJ3RyYWNrU2l6ZSgpJ1xyXG4gIH0sXHJcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2hcclxufSlcclxuZXhwb3J0IGNsYXNzIFNjcm9sbGJhclkgZXh0ZW5kcyBTY3JvbGxiYXJBZGFwdGVyIHtcclxuXHJcbiAgcmVhZG9ubHkgcmVjdE9mZnNldFByb3BlcnR5OiAnbGVmdCcgfCAndG9wJyA9ICd0b3AnO1xyXG5cclxuICByZWFkb25seSByZWN0U2l6ZVByb3BlcnR5OiAnd2lkdGgnIHwgJ2hlaWdodCcgPSAnaGVpZ2h0JztcclxuXHJcbiAgcmVhZG9ubHkgc2l6ZVByb3BlcnR5OiAnb2Zmc2V0V2lkdGgnIHwgJ29mZnNldEhlaWdodCcgPSAnb2Zmc2V0SGVpZ2h0JztcclxuXHJcbiAgcmVhZG9ubHkgY2xpZW50UHJvcGVydHk6ICdjbGllbnRYJyB8ICdjbGllbnRZJyA9ICdjbGllbnRZJztcclxuXHJcbiAgcmVhZG9ubHkgb2Zmc2V0UHJvcGVydHk6ICdvZmZzZXRYJyB8ICdvZmZzZXRZJyA9ICdvZmZzZXRZJztcclxuXHJcbiAgcmVhZG9ubHkgYXhpczogJ3gnIHwgJ3knID0gJ3knO1xyXG5cclxuICBnZXQgdmlld3BvcnRTY3JvbGxNYXgoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmNtcC52aWV3cG9ydC5zY3JvbGxNYXhZO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHZpZXdwb3J0U2Nyb2xsT2Zmc2V0KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5jbXAudmlld3BvcnQuc2Nyb2xsVG9wO1xyXG4gIH1cclxuXHJcbiAgc2Nyb2xsVG8odG9wOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBPYnNlcnZhYmxlPHZvaWQ+IHtcclxuICAgIHJldHVybiBmcm9tKHRoaXMuY21wLnNjcm9sbFRvKHsgdG9wLCBkdXJhdGlvbiB9KSk7XHJcbiAgfVxyXG5cclxuICBpbnN0YW50U2Nyb2xsVG8odmFsdWU6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5jbXAudmlld3BvcnQuc2Nyb2xsWVRvKHZhbHVlKTtcclxuICB9XHJcbn1cclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHN0YW5kYWxvbmU6IHRydWUsXHJcbiAgc2VsZWN0b3I6ICdzY3JvbGxiYXIteCcsXHJcbiAgdGVtcGxhdGU6IGBcclxuICAgIDxkaXYgY2xhc3M9XCJuZy1zY3JvbGxiYXItc3RpY2t5XCJcclxuICAgICAgICAgW2NsYXNzLm5nLXNjcm9sbGJhci1ob3Zlcl09XCJjbXAuaG92ZXJPZmZzZXQoKVwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwibmctc2Nyb2xsYmFyLXRyYWNrLXdyYXBwZXJcIlxyXG4gICAgICAgICAgIFtjbGFzcy5uZy1zY3JvbGxiYXItaG92ZXJdPVwiIWNtcC5ob3Zlck9mZnNldCgpXCI+XHJcbiAgICAgICAgPGRpdiBzY3JvbGxiYXJUcmFja1ggY2xhc3M9XCJuZy1zY3JvbGxiYXItdHJhY2sge3sgY21wLnRyYWNrQ2xhc3MoKSB9fVwiPlxyXG4gICAgICAgICAgPGRpdiBzY3JvbGxiYXJUaHVtYlggY2xhc3M9XCJuZy1zY3JvbGxiYXItdGh1bWIge3sgY21wLnRodW1iQ2xhc3MoKSB9fVwiPjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIEBpZiAoY21wLmJ1dHRvbnMoKSkge1xyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm5nLXNjcm9sbGJhci1idXR0b24ge3sgY21wLmJ1dHRvbkNsYXNzKCkgfX1cIlxyXG4gICAgICAgICAgICAgICAgICBzY3JvbGxiYXJCdXR0b249XCJzdGFydFwiXHJcbiAgICAgICAgICAgICAgICAgIHNjcm9sbERpcmVjdGlvbj1cImJhY2t3YXJkXCI+PC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibmctc2Nyb2xsYmFyLWJ1dHRvbiB7eyBjbXAuYnV0dG9uQ2xhc3MoKSB9fVwiXHJcbiAgICAgICAgICAgICAgICAgIHNjcm9sbGJhckJ1dHRvbj1cImVuZFwiXHJcbiAgICAgICAgICAgICAgICAgIHNjcm9sbERpcmVjdGlvbj1cImZvcndhcmRcIj48L2J1dHRvbj5cclxuICAgICAgICB9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgYCxcclxuICBzdHlsZVVybHM6IFsnLi9zaGFyZWQuc2NzcycsICcuL2hvcml6b250YWwuc2NzcyddLFxyXG4gIGltcG9ydHM6IFtUcmFja1hEaXJlY3RpdmUsIFRodW1iWERpcmVjdGl2ZSwgU2Nyb2xsYmFyQnV0dG9uXSxcclxuICBwcm92aWRlcnM6IFtcclxuICAgIHsgcHJvdmlkZTogU0NST0xMQkFSX0NPTlRST0wsIHVzZUV4aXN0aW5nOiBTY3JvbGxiYXJYIH1cclxuICBdLFxyXG4gIGhvc3Q6IHtcclxuICAgICdbYXR0ci5kaXJdJzogJ2NtcC5kaXJlY3Rpb24oKScsXHJcbiAgICAnW3N0eWxlLi0tdHJhY2stc2l6ZV0nOiAndHJhY2tTaXplKCknXHJcbiAgfSxcclxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxyXG59KVxyXG5leHBvcnQgY2xhc3MgU2Nyb2xsYmFyWCBleHRlbmRzIFNjcm9sbGJhckFkYXB0ZXIge1xyXG5cclxuICByZWFkb25seSBtYW5hZ2VyOiBTY3JvbGxiYXJNYW5hZ2VyID0gaW5qZWN0KFNjcm9sbGJhck1hbmFnZXIpO1xyXG5cclxuICByZWFkb25seSByZWN0T2Zmc2V0UHJvcGVydHk6ICdsZWZ0JyB8ICd0b3AnID0gJ2xlZnQnO1xyXG5cclxuICByZWFkb25seSByZWN0U2l6ZVByb3BlcnR5OiAnd2lkdGgnIHwgJ2hlaWdodCcgPSAnd2lkdGgnO1xyXG5cclxuICByZWFkb25seSBzaXplUHJvcGVydHk6ICdvZmZzZXRXaWR0aCcgfCAnb2Zmc2V0SGVpZ2h0JyA9ICdvZmZzZXRXaWR0aCc7XHJcblxyXG4gIHJlYWRvbmx5IGNsaWVudFByb3BlcnR5OiAnY2xpZW50WCcgfCAnY2xpZW50WScgPSAnY2xpZW50WCc7XHJcblxyXG4gIHJlYWRvbmx5IG9mZnNldFByb3BlcnR5OiAnb2Zmc2V0WCcgfCAnb2Zmc2V0WScgPSAnb2Zmc2V0WCc7XHJcblxyXG4gIHJlYWRvbmx5IGF4aXM6ICd4JyB8ICd5JyA9ICd4JztcclxuXHJcbiAgLy8gSGFuZGxlIGRyYWdnaW5nIHBvc2l0aW9uIChTdXBwb3J0IExUUiBhbmQgUlRMIGRpcmVjdGlvbnMgZm9yIHRoZSBob3Jpem9udGFsIHNjcm9sbGJhcilcclxuICBwcml2YXRlIGhhbmRsZVBvc2l0aW9uOiAodmFsdWU6IG51bWJlciwgc2Nyb2xsTWF4OiBudW1iZXIpID0+IG51bWJlcjtcclxuXHJcbiAgZ2V0IHZpZXdwb3J0U2Nyb2xsTWF4KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5jbXAudmlld3BvcnQuc2Nyb2xsTWF4WDtcclxuICB9XHJcblxyXG4gIGdldCB2aWV3cG9ydFNjcm9sbE9mZnNldCgpOiBudW1iZXIge1xyXG4gICAgLy8gS2VlcCBzY3JvbGxMZWZ0IHZhbHVlIHBvc2l0aXZlIGZvciBob3Jpem9udGFsIHNjcm9sbGJhclxyXG4gICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuY21wLnZpZXdwb3J0LnNjcm9sbExlZnQpO1xyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBlZmZlY3QoKCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5jbXAuZGlyZWN0aW9uKCkgPT09ICdydGwnKSB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVQb3NpdGlvbiA9IChwb3NpdGlvbjogbnVtYmVyLCBzY3JvbGxNYXg6IG51bWJlcik6IG51bWJlciA9PiAtKHNjcm9sbE1heCAtIHBvc2l0aW9uKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmhhbmRsZVBvc2l0aW9uID0gKHBvc2l0aW9uOiBudW1iZXIpOiBudW1iZXIgPT4gcG9zaXRpb247XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgc3VwZXIoKTtcclxuICB9XHJcblxyXG4gIHNjcm9sbFRvKGxlZnQ6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IE9ic2VydmFibGU8dm9pZD4ge1xyXG4gICAgcmV0dXJuIGZyb20odGhpcy5jbXAuc2Nyb2xsVG8oeyBsZWZ0LCBkdXJhdGlvbiB9KSk7XHJcbiAgfVxyXG5cclxuICBpbnN0YW50U2Nyb2xsVG8odmFsdWU6IG51bWJlciwgc2Nyb2xsTWF4PzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICB0aGlzLmNtcC52aWV3cG9ydC5zY3JvbGxYVG8odGhpcy5oYW5kbGVQb3NpdGlvbih2YWx1ZSwgc2Nyb2xsTWF4KSk7XHJcbiAgfVxyXG59XHJcbiJdfQ==